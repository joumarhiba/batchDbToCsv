package fr.cnamts.ex.batch.item.processor;

import java.util.Date;

import org.dozer.DozerBeanMapper;
import org.springframework.batch.item.ItemProcessor;

import fr.cnamts.ex.batch.bo.Employee;
import fr.cnamts.ex.batch.bo.EmployeeDto;

public class ImportEmployeeProcessor implements ItemProcessor<EmployeeDto, Employee> {

	private DozerBeanMapper dozerBeanMapper;
	
	@Override
	public EmployeeDto process(EmployeeDto employeeDto) throws Exception {
			
		Employee employee = dozerBeanMapper.map(employeeDto,Employee.class);
		
		
		if(employee.getCreatedAt() == null ) {
			employeeDto.setCreatedAt(new Date());
		}
	
// TODO: format cretedAt........................

		return employeeDto;
	}

}
